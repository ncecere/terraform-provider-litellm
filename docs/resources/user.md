# litellm_user Resource

Manages a user in LiteLLM. Users can be assigned roles, budgets, rate limits, and model access controls.

## Example Usage

### Minimal

```hcl
resource "litellm_user" "minimal" {
  auto_create_key = false
}
```

### Full

```hcl
resource "litellm_user" "full" {
  user_id         = "test-user-full"
  user_alias      = "Test User Full"
  user_email      = "testuser@example.com"
  user_role       = "internal_user"
  max_budget      = 200.0
  budget_duration = "30d"
  tpm_limit       = 50000
  rpm_limit       = 500
  auto_create_key = true

  teams  = []
  models = ["gpt-4o", "gpt-4o-mini"]

  metadata = {
    "department" = "engineering"
  }
}
```

## Argument Reference

The following arguments are supported:

* `user_id` - (Optional, ForceNew) A unique identifier for the user. If omitted, a UUID is generated by LiteLLM. Changing this value forces the resource to be recreated.
* `user_alias` - (Optional) A human-readable alias for the user.
* `user_email` - (Optional) The email address of the user.
* `user_role` - (Optional) The role assigned to the user. Valid values: `proxy_admin`, `proxy_admin_viewer`, `internal_user`, `internal_user_viewer`, `team`, `customer`.
* `max_budget` - (Optional) Maximum budget allocated to the user.
* `budget_duration` - (Optional) Duration for the budget cycle (e.g., `"30d"`, `"7d"`, `"1h"`).
* `tpm_limit` - (Optional) Tokens per minute limit for the user.
* `rpm_limit` - (Optional) Requests per minute limit for the user.
* `auto_create_key` - (Optional) Whether to automatically create an API key when the user is created. Defaults to `true`.
* `teams` - (Optional) List of team IDs the user belongs to.
* `models` - (Optional) List of model names the user is allowed to use.
* `metadata` - (Optional) A map of key-value metadata pairs for the user.

## Attribute Reference

In addition to the arguments above, the following attributes are exported:

* `id` - The unique identifier of the user (same as `user_id`).
* `key` - (Sensitive) The API key generated for the user. Only populated when `auto_create_key` is `true`.

The following attributes are both Optional and Computed (they are read back from the API if not explicitly set):

* `user_id`
* `auto_create_key`
* `teams`
* `models`
* `metadata`

## Import

Users can be imported using their user ID:

```shell
terraform import litellm_user.example <user-id>
```

~> **Note:** The `key` attribute will not be populated after import, as API keys cannot be retrieved from the LiteLLM API after creation.

## Notes

- The `user_email` attribute is **not** required.
- The `user_id` attribute is ForceNew â€” changing it will destroy and recreate the resource.
- When `auto_create_key` is `true` (the default), a `key` is generated on creation and stored in state.
